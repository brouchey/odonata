header#banner.hero-unit
  .container-fluid
    h1.lead Exchange
    h2.lead {{vm.questions.length}} Questions
    p
      a.btn.btn-success(type='button', href='/exchange/create') Ask New Question
br
#question-index-container.container
  .row
    //- Left Side
    .col-md-9

      //- Action Buttons
      .row.questions-action-buttons
        .col-xs-4
          .text-center
            button.btn.btn-primary(type='button', ng-click='vm.loadQuestions()') Show All Questions
        .col-xs-4
          .text-center
            button.btn.btn-info(type='button', ng-click='vm.loadMyQuestions()') Show My Questions
        .col-xs-4
          .text-center
            button.btn.btn-warning(type='button', ng-click='vm.loadFavoritesQuestions()') Show Favorites

      //- Questions Display
      .row
        .col-md-12
          //- if No Questions, show Alert
          .alert.alert-warning.text-center(ng-if='vm.questions.length==0', role="alert") No Result Found !

          //- if Questions, show Questions
          div(ng-if='vm.questions.length!=0')

            //- Pagination Top
            ul(ng-if='vm.questions.length>vm.itemsPerPage', uib-pagination, total-items='vm.questions.length', ng-model='vm.currentPage', max-size='vm.maxSize', items-per-page='vm.itemsPerPage', ng-change='vm.pageChanged()')

            //- Questions Table
            table.table.questions-table
              thead
                tr
                  th.questions-table-head Votes
                  th.questions-table-head Answers
                  th.questions-table-head Views
                  th Question
              //- tbody(infinite-scroll='vm.scrollPage()', infinite-scroll-disabled='busy || noMoreData')
              tbody
                tr(ng-repeat='question in vm.filteredQuestions track by $index')
                  td.question-votes.text-center
                    div {{question.votecount}} 
                  td.question-answers.text-center
                    .no-best(ng-if='!question.hasBest') {{question.answers.length}}
                    .has-best.bg-success(ng-if='question.hasBest') {{question.answers.length}}
                  td.question-views.text-center
                    div {{question.views}}
                  td.question-info
                    .star
                      i.fa.fa-star(ng-if='vm.isStar(question)')
                      //- i.fa.fa-star-o(ng-if='!vm.isStar(question)')
                    a.question-link(ng-href='/exchange/show/{{question._id}}') {{question.title}}
                    .clearfix
                    .question-author
                      | by 
                      a(ng-href='/users/{{question.user._id}}') {{question.user.name}}
                      |  &middot; {{question.createdAt|date:'medium'}}
                    .question-tags
                      span(ng-repeat='tag in question.tags')
                        span.label.label-info {{tag.text}}
                        span &nbsp;
                    .clearfix

              //- div(ng-show='busy') Loading Questions...

            //- Pagination Bottom
            ul(ng-if='vm.questions.length>vm.itemsPerPage', uib-pagination, total-items='vm.questions.length', ng-model='vm.currentPage', max-size='vm.maxSize', items-per-page='vm.itemsPerPage', ng-change='vm.pageChanged()')

    //- Right Side
    .col-md-3

      //- Live Search
      .panel.panel-default
        .panel-heading
          h3.panel-title Live Search
        .panel-body.text-center
          form.navbar-form(role='search', ng-submit='vm.search(keyword)')
            input.form-control(type='text', placeholder='Search', ng-model='keyword')
            .btn-group.question-search-buttons
              button.btn.btn-default(type='submit') Go
                //- i.fa.fa-search
              button.btn.btn-info(type='reset', ng-click='vm.loadQuestions()') Reset

      //- Hot Trends
      .panel.panel-danger
        .panel-heading
          h3.panel-title Hot Trends
        .panel-body  Some Content

      //- Featured
      .panel.panel-warning
        .panel-heading
          h3.panel-title Featured
        .panel-body  Some Content

      //- All Tags
      .panel.panel-info
        .panel-heading
          h3.panel-title All Tags ({{vm.allTags.length}})
        .panel-body(ng-if='vm.allTags.length!=0')
          ul.tags-list
            li(ng-repeat='tag in vm.allTags')
              span.label.label-info {{tag}}
        .panel-body.alert.alert-warning.text-center(ng-if='vm.allTags.length==0', role="alert") No Tags Found
